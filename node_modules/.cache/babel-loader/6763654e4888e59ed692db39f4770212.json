{"remainingRequest":"C:\\xampp\\htdocs\\poin_front\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\poin_front\\src\\store\\index.js","dependencies":[{"path":"C:\\xampp\\htdocs\\poin_front\\src\\store\\index.js","mtime":1580883007118},{"path":"C:\\xampp\\htdocs\\poin_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\poin_front\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc3RhdHVzOiAnJywKICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnQXV0aG9yaXphdGlvbicpIHx8ICcnLAogICAgdXNlcjoge30KICB9LAogIG11dGF0aW9uczogewogICAgYXV0aF9yZXF1ZXN0OiBmdW5jdGlvbiBhdXRoX3JlcXVlc3Qoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzID0gJ2xvYWRpbmcnOwogICAgfSwKICAgIGF1dGhfc3VjY2VzczogZnVuY3Rpb24gYXV0aF9zdWNjZXNzKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnc3VjY2Vzcyc7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47IC8vIHN0YXRlLmxvZ2dlZCA9IGxvZ2dlZAogICAgfSwKICAgIHVzZXJEZXRhaWw6IGZ1bmN0aW9uIHVzZXJEZXRhaWwoc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgYXV0aF9lcnJvcjogZnVuY3Rpb24gYXV0aF9lcnJvcihzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMgPSAnZXJyb3InOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cyA9ICcnOwogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGNvbW1pdCgnYXV0aF9yZXF1ZXN0Jyk7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOiAnL2xvZ2luJywKICAgICAgICAgIGRhdGE6IHVzZXIsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwb25zZS5kYXRhLnRva2VuOwogICAgICAgICAgdmFyIGxvZ2dlZCA9IHJlc3BvbnNlLmRhdGEubG9nZ2VkOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0F1dGhvcml6YXRpb24nLCB0b2tlbik7IC8vIEFkZCB0aGUgZm9sbG93aW5nIGxpbmU6CgogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9IHRva2VuOwogICAgICAgICAgY29tbWl0KCdhdXRoX3N1Y2Nlc3MnLCB0b2tlbik7IC8vZ2V0IGRldGFpbCB1c2VyCgogICAgICAgICAgdmFyIGNvbmYgPSB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRva2VuCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5nZXQoIi9sb2dpbi9jaGVjayIsIGNvbmYpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIC8vc2ltcGFuIGRldGFpbCBsb2dpbiBrZSBzdGF0ZQogICAgICAgICAgICBjb21taXQoJ3VzZXJEZXRhaWwnLCByZXNwb25zZS5kYXRhLnVzZXIpOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb21taXQoJ2F1dGhfZXJyb3InKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdBdXRob3JpemF0aW9uJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKF9yZWYyLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgY29tbWl0KCdhdXRoX3JlcXVlc3QnKTsKICAgICAgICBheGlvcyh7CiAgICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjgwMDAvcmVnaXN0ZXInLAogICAgICAgICAgZGF0YTogdXNlciwKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICB2YXIgbG9nZ2VkID0gcmVzcG9uc2UuZGF0YS5sb2dnZWQ7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnQXV0aG9yaXphdGlvbicsIHRva2VuKTsgLy8gQWRkIHRoZSBmb2xsb3dpbmcgbGluZToKCiAgICAgICAgICBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gdG9rZW47CiAgICAgICAgICBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCBsb2dnZWQpOwogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29tbWl0KCdhdXRoX2Vycm9yJywgZXJyKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdBdXRob3JpemF0aW9uJyk7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjMpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdBdXRob3JpemF0aW9uJyk7CiAgICAgICAgZGVsZXRlIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ107CiAgICAgICAgcmVzb2x2ZSgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oc3RhdGUpIHsKICAgICAgcmV0dXJuICEhc3RhdGUudG9rZW47CiAgICB9LAogICAgYXV0aFN0YXR1czogZnVuY3Rpb24gYXV0aFN0YXR1cyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuc3RhdHVzOwogICAgfSwKICAgIHVzZXJEZXRhaWw6IGZ1bmN0aW9uIHVzZXJEZXRhaWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/xampp/htdocs/poin_front/src/store/index.js"],"names":["Vue","Vuex","axios","use","Store","state","status","token","localStorage","getItem","user","mutations","auth_request","auth_success","userDetail","auth_error","logout","actions","login","commit","Promise","resolve","reject","url","data","method","then","response","logged","setItem","defaults","headers","common","conf","get","catch","err","removeItem","register","getters","isLoggedIn","authStatus"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC7BC,EAAAA,KAAK,EAAE;AACJC,IAAAA,MAAM,EAAE,EADJ;AAEJC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,eAArB,KAAyC,EAF5C;AAGJC,IAAAA,IAAI,EAAG;AAHH,GADsB;AAM7BC,EAAAA,SAAS,EAAE;AACVC,IAAAA,YADU,wBACGP,KADH,EACS;AACfA,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACD,KAHO;AAIRO,IAAAA,YAJQ,wBAIKR,KAJL,EAIYE,KAJZ,EAIkB;AACxBF,MAAAA,KAAK,CAACC,MAAN,GAAe,SAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd,CAFwB,CAGxB;AACH,KARS;AASPO,IAAAA,UATO,sBASIT,KATJ,EASWK,IATX,EASgB;AACvBL,MAAAA,KAAK,CAACK,IAAN,GAAaA,IAAb;AACF,KAXS;AAYRK,IAAAA,UAZQ,sBAYGV,KAZH,EAYS;AACfA,MAAAA,KAAK,CAACC,MAAN,GAAe,OAAf;AACD,KAdO;AAeRU,IAAAA,MAfQ,kBAeDX,KAfC,EAeK;AACXA,MAAAA,KAAK,CAACC,MAAN,GAAe,EAAf;AACAD,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACD;AAlBO,GANkB;AA0B7BU,EAAAA,OAAO,EAAE;AACNC,IAAAA,KADM,uBACUR,IADV,EACe;AAAA,UAAdS,MAAc,QAAdA,MAAc;AAChB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCH,QAAAA,MAAM,CAAC,cAAD,CAAN;AACAjB,QAAAA,KAAK,CAAC;AAACqB,UAAAA,GAAG,EAAE,QAAN;AAAgBC,UAAAA,IAAI,EAAEd,IAAtB;AAA4Be,UAAAA,MAAM,EAAE;AAApC,SAAD,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AACd,cAAMpB,KAAK,GAAGoB,QAAQ,CAACH,IAAT,CAAcjB,KAA5B;AACA,cAAMqB,MAAM,GAAGD,QAAQ,CAACH,IAAT,CAAcI,MAA7B;AACApB,UAAAA,YAAY,CAACqB,OAAb,CAAqB,eAArB,EAAsCtB,KAAtC,EAHc,CAId;;AACAL,UAAAA,KAAK,CAAC4B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDzB,KAAjD;AACZY,UAAAA,MAAM,CAAC,cAAD,EAAiBZ,KAAjB,CAAN,CAN0B,CAO1B;;AACA,cAAI0B,IAAI,GAAG;AAACF,YAAAA,OAAO,EAAE;AAAC,+BAAkB,YAAYxB;AAA/B;AAAV,WAAX;AACAL,UAAAA,KAAK,CAACgC,GAAN,CAAU,cAAV,EAA0BD,IAA1B,EACCP,IADD,CACM,UAAAC,QAAQ,EAAI;AACjB;AACAR,YAAAA,MAAM,CAAC,YAAD,EAAeQ,QAAQ,CAACH,IAAT,CAAcd,IAA7B,CAAN;AACA,WAJD;AAKYW,UAAAA,OAAO,CAACM,QAAD,CAAP;AACH,SAhBD,EAiBCQ,KAjBD,CAiBO,UAAAC,GAAG,EAAI;AACVjB,UAAAA,MAAM,CAAC,YAAD,CAAN;AACAX,UAAAA,YAAY,CAAC6B,UAAb,CAAwB,eAAxB;AACAf,UAAAA,MAAM,CAACc,GAAD,CAAN;AACH,SArBD;AAsBH,OAxBM,CAAP;AAyBH,KA3BI;AA4BLE,IAAAA,QA5BK,2BA4Bc5B,IA5Bd,EA4BmB;AAAA,UAAdS,MAAc,SAAdA,MAAc;AACvB,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACjCH,QAAAA,MAAM,CAAC,cAAD,CAAN;AACAjB,QAAAA,KAAK,CAAC;AAACqB,UAAAA,GAAG,EAAE,gCAAN;AAAwCC,UAAAA,IAAI,EAAEd,IAA9C;AAAoDe,UAAAA,MAAM,EAAE;AAA5D,SAAD,CAAL,CACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AACd,cAAMpB,KAAK,GAAGoB,QAAQ,CAACH,IAAT,CAAcjB,KAA5B;AACA,cAAMqB,MAAM,GAAGD,QAAQ,CAACH,IAAT,CAAcI,MAA7B;AACApB,UAAAA,YAAY,CAACqB,OAAb,CAAqB,eAArB,EAAsCtB,KAAtC,EAHc,CAId;;AACAL,UAAAA,KAAK,CAAC4B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDzB,KAAjD;AACAY,UAAAA,MAAM,CAAC,cAAD,EAAiBZ,KAAjB,EAAwBqB,MAAxB,CAAN;AACAP,UAAAA,OAAO,CAACM,QAAD,CAAP;AACH,SATD,EAUCQ,KAVD,CAUO,UAAAC,GAAG,EAAI;AACVjB,UAAAA,MAAM,CAAC,YAAD,EAAeiB,GAAf,CAAN;AACA5B,UAAAA,YAAY,CAAC6B,UAAb,CAAwB,eAAxB;AACAf,UAAAA,MAAM,CAACc,GAAD,CAAN;AACH,SAdD;AAeH,OAjBG,CAAP;AAkBA,KA/CI;AAgDNpB,IAAAA,MAhDM,yBAgDU;AAAA,UAARG,MAAQ,SAARA,MAAQ;AACd,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACrCH,QAAAA,MAAM,CAAC,QAAD,CAAN;AACAX,QAAAA,YAAY,CAAC6B,UAAb,CAAwB,eAAxB;AACA,eAAOnC,KAAK,CAAC4B,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACAX,QAAAA,OAAO;AACT,OALM,CAAP;AAMD;AAvDK,GA1BoB;AAmF7BkB,EAAAA,OAAO,EAAG;AACRC,IAAAA,UAAU,EAAE,oBAAAnC,KAAK;AAAA,aAAI,CAAC,CAACA,KAAK,CAACE,KAAZ;AAAA,KADT;AAERkC,IAAAA,UAAU,EAAE,oBAAApC,KAAK;AAAA,aAAIA,KAAK,CAACC,MAAV;AAAA,KAFT;AAGRQ,IAAAA,UAAU,EAAE,oBAAAT,KAAK;AAAA,aAAIA,KAAK,CAACK,IAAV;AAAA;AAHT;AAnFmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n\tstate: {\n  \t\tstatus: '',\n  \t\ttoken: localStorage.getItem('Authorization') || '',\n  \t\tuser : {}\n\t},\n\tmutations: {\n\t\tauth_request(state){\n\t    \tstate.status = 'loading'\n\t  \t},\n\t  \tauth_success(state, token){\n\t\t    state.status = 'success'\n\t\t    state.token = token\n\t\t    // state.logged = logged\n\t\t},\n\t    userDetail(state, user){\n\t\t\t  state.user = user\n\t\t},\n\t  \tauth_error(state){\n\t    \tstate.status = 'error'\n\t  \t},\n\t  \tlogout(state){\n\t    \tstate.status = ''\n\t    \tstate.token = ''\n\t  \t},\n\t},\n\tactions: {\n\t  \tlogin({commit}, user){\n\t        return new Promise((resolve, reject) => {\n\t            commit('auth_request')\n\t            axios({url: '/login', data: user, method: 'POST' })\n\t            .then(response => {\n\t                const token = response.data.token\n\t                const logged = response.data.logged\n\t                localStorage.setItem('Authorization', token)\n\t                // Add the following line:\n\t                axios.defaults.headers.common['Authorization'] = token\n\t\t\t\t\tcommit('auth_success', token)\n\t\t\t\t\t//get detail user\n\t\t\t\t\tlet conf = {headers: {\"Authorization\" : \"Bearer \" + token}};\n\t\t\t\t\taxios.get(\"/login/check\", conf)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\t//simpan detail login ke state\n\t\t\t\t\t\tcommit('userDetail', response.data.user)\n\t\t\t\t\t})\n\t                resolve(response)\n\t            })\n\t            .catch(err => {\n\t                commit('auth_error')\n\t                localStorage.removeItem('Authorization')\n\t                reject(err)\n\t            })\n\t        })\n\t    },\n\t    register({commit}, user){\n\t    \treturn new Promise((resolve, reject) => {\n\t            commit('auth_request')\n\t            axios({url: 'http://localhost:8000/register', data: user, method: 'POST' })\n\t            .then(response => {\n\t                const token = response.data.token\n\t                const logged = response.data.logged\n\t                localStorage.setItem('Authorization', token)\n\t                // Add the following line:\n\t                axios.defaults.headers.common['Authorization'] = token\n\t                commit('auth_success', token, logged)\n\t                resolve(response)\n\t            })\n\t            .catch(err => {\n\t                commit('auth_error', err)\n\t                localStorage.removeItem('Authorization')\n\t                reject(err)\n\t            })\n\t        })\n\t    },\n\t  \tlogout({commit}){\n\t\t    return new Promise((resolve, reject) => {\n\t\t      \tcommit('logout')\n\t\t      \tlocalStorage.removeItem('Authorization')\n\t\t      \tdelete axios.defaults.headers.common['Authorization']\n\t\t      \tresolve()\n\t\t    })\n\t  \t}\n\t},\n\tgetters : {\n\t  isLoggedIn: state => !!state.token,\n\t  authStatus: state => state.status,\n\t  userDetail: state => state.user\n\t}\n})\n"]}]}